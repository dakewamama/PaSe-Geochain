import chai from 'chai';
import { objectToURLParams } from '../../src/utils/url';

const { expect } = chai;

describe('url utils', () => {
  describe('objectToURLParams', () => {
    it('should return an empty object when given an empty object', () => {
      expect(objectToURLParams({})).to.deep.equal({});
    });

    it('should return an empty object when given an undefined object', () => {
      expect(objectToURLParams(undefined)).to.deep.equal({});
    });

    it('should return an empty object when given an object with all null values', () => {
      expect(objectToURLParams({ a: null, b: null, c: null })).to.deep.equal({});
    });

    it('should build a URL params object from a simple object', () => {
      expect(objectToURLParams({ a: '1', b: '2', c: '3' })).to.deep.equal({ a: '1', b: '2', c: '3' });
    });

    it('should build a URL params object from a object with an array value', () => {
      expect(objectToURLParams({ a: '1', d: [1, 2, 3] })).to.deep.equal({ a: '1', d: '1,2,3' });
    });
  });
});
